<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Support Cheat Sheet</title>

<!-- Production React -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div id="root"></div>

<script>
const { useState, useMemo } = React;

// Initial sample data
const initialData = [
  {
    id: '1',
    brand: "TechCorp",
    category: "Account Issues",
    subcategory: "Password Reset",
    title: "How to Reset Password",
    steps: [
      "Ask customer to navigate to login page",
      "Click 'Forgot Password' link below login button",
      "Enter registered email address",
      "Check email inbox (and spam folder) for reset link",
      "Click the link and create new password (min 8 characters, 1 uppercase, 1 number)",
      "Confirm successful login with new password"
    ],
    tips: "Password reset links expire after 24 hours. If customer doesn't receive email within 5 minutes, check if email address is correct."
  },
  {
    id: '2',
    brand: "TechCorp",
    category: "Account Issues",
    subcategory: "Login Errors",
    title: "Troubleshooting Login Errors",
    steps: [
      "Verify customer is using correct email address",
      "Ask customer to clear browser cache and cookies",
      "Try incognito/private browsing mode",
      "Check if account is locked due to multiple failed attempts",
      "Verify two-factor authentication if enabled",
      "As last resort, initiate password reset"
    ],
    tips: "Common causes: Caps Lock on, autofill using old password, account temporarily locked."
  }
];

// Cheat Sheet Component
function SupportCheatSheet() {
  const [data, setData] = useState(initialData);
  const [selectedBrand, setSelectedBrand] = useState('');
  const [selectedCategory, setSelectedCategory] = useState('');
  const [selectedSubcategory, setSelectedSubcategory] = useState('');
  const [searchTerm, setSearchTerm] = useState('');
  const [showAdmin, setShowAdmin] = useState(false);

  // Admin form state
  const [newBrand, setNewBrand] = useState('');
  const [newCategory, setNewCategory] = useState('');
  const [newSubcategory, setNewSubcategory] = useState('');
  const [newTitle, setNewTitle] = useState('');
  const [newSteps, setNewSteps] = useState('');
  const [newTips, setNewTips] = useState('');

  // Unique dropdowns
  const brands = useMemo(() => [...new Set(data.map(d => d.brand))], [data]);
  const categories = useMemo(() => selectedBrand ? [...new Set(data.filter(d => d.brand===selectedBrand).map(d=>d.category))] : [], [selectedBrand, data]);
  const subcategories = useMemo(() => (selectedBrand && selectedCategory) ? [...new Set(data.filter(d => d.brand===selectedBrand && d.category===selectedCategory).map(d=>d.subcategory))] : [], [selectedBrand, selectedCategory, data]);

  const filteredData = useMemo(() =>
    data.filter(d => 
      (!selectedBrand || d.brand === selectedBrand) &&
      (!selectedCategory || d.category === selectedCategory) &&
      (!selectedSubcategory || d.subcategory === selectedSubcategory) &&
      (!searchTerm || d.title.toLowerCase().includes(searchTerm.toLowerCase()) || d.steps.some(s => s.toLowerCase().includes(searchTerm.toLowerCase())))
    ),
    [data, selectedBrand, selectedCategory, selectedSubcategory, searchTerm]
  );

  function resetFilters() {
    setSelectedBrand(''); setSelectedCategory(''); setSelectedSubcategory(''); setSearchTerm('');
  }

  function addEntry() {
    if(!newBrand || !newCategory || !newSubcategory || !newTitle || !newSteps) {
      alert("Please fill all fields except tips.");
      return;
    }
    const newEntry = {
      id: (data.length + 1).toString(),
      brand: newBrand,
      category: newCategory,
      subcategory: newSubcategory,
      title: newTitle,
      steps: newSteps.split('\n').map(s => s.trim()).filter(s => s),
      tips: newTips
    };
    setData([...data, newEntry]);
    // Reset form
    setNewBrand(''); setNewCategory(''); setNewSubcategory('');
    setNewTitle(''); setNewSteps(''); setNewTips('');
  }

  return React.createElement('div', { className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8 font-sans" },
    React.createElement('div', { className: "max-w-5xl mx-auto" },
      // Header
      React.createElement('div', { className: "bg-white p-6 rounded-lg shadow mb-6 flex justify-between items-center" },
        React.createElement('div', null,
          React.createElement('h1', { className: "text-2xl font-bold mb-1" }, "Support Agent Cheat Sheet"),
          React.createElement('p', { className: "text-gray-600" }, "Quick answers and step-by-step guides")
        ),
        React.createElement('button', { onClick: () => setShowAdmin(!showAdmin), className: "px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700" },
          showAdmin ? "View Mode" : "Admin Mode"
        )
      ),
      // Filters
      React.createElement('div', { className: "bg-white p-4 rounded-lg shadow mb-6 grid md:grid-cols-4 gap-4 items-end" },
        React.createElement('input', { type: "text", placeholder: "Search...", value: searchTerm, onChange: e=>setSearchTerm(e.target.value), className: "border px-3 py-2 rounded w-full md:col-span-4" }),
        React.createElement('select', { value: selectedBrand, onChange: e => { setSelectedBrand(e.target.value); setSelectedCategory(''); setSelectedSubcategory(''); }, className: "border px-3 py-2 rounded w-full" },
          React.createElement('option', { value: "" }, "All Brands"),
          brands.map(b => React.createElement('option', { key: b }, b))
        ),
        React.createElement('select', { value: selectedCategory, onChange: e => { setSelectedCategory(e.target.value); setSelectedSubcategory(''); }, className: "border px-3 py-2 rounded w-full", disabled: !selectedBrand },
          React.createElement('option', { value: "" }, "All Categories"),
          categories.map(c => React.createElement('option', { key: c }, c))
        ),
        React.createElement('select', { value: selectedSubcategory, onChange: e => setSelectedSubcategory(e.target.value), className: "border px-3 py-2 rounded w-full", disabled: !selectedCategory },
          React.createElement('option', { value: "" }, "All Subcategories"),
          subcategories.map(s => React.createElement('option', { key: s }, s))
        ),
        React.createElement('button', { onClick: resetFilters, className: "bg-gray-200 px-4 py-2 rounded hover:bg-gray-300 w-full md:col-span-4" }, "Reset Filters")
      ),
      // Admin Mode form
      showAdmin && React.createElement('div', { className: "bg-white p-4 rounded-lg shadow mb-6 space-y-2" },
        React.createElement('h2', { className: "font-bold text-lg mb-2" }, "Add New Entry"),
        React.createElement('input', { type: "text", placeholder: "Brand
